<script type='text/javascript'>
  const preview_image = event => {
    const reader = new FileReader();
    reader.onload = function () {
      const output = document.getElementById('outputimage');
      output.src = reader.result;

    }
    reader.readAsDataURL(event.target.files[0]);
  }
</script>


<nav>
  {{#with user}}
  <a href="/home">
    <p class="home">wlkr.</p>
  </a>

  <span>
    <a href="/users/{{this._id}}/requests">Requests</a>
    {{!-- <a href="/logout">Logout</a> --}}
    <a href="/users/{{this._id}}">
      <p>ðŸ‘¨</p>
    </a>
  </span>
  {{/with}}
</nav>

<div class="container">

  <form action="/users/{{user._id}}/edit" method="post" enctype="multipart/form-data" id="form-container">

    <div class="card">
      <h4>Your profile</h4>


      <img src="" alt="" id="outputimage" />
      <div class="uploadpic" style="background-image: url({{user.imgPath}});">
        <input type="file" name="photo" onchange="preview_image(event)" />
      </div>

      <div class="input-container">
        <input name="name" required="required" value="{{user.name}}" />
        <label for="name">Name</label>
        <div class="bar"></div>
      </div>

      {{#if addressShow}}
      <div class="input-container">
        <input name="street" required="required" value="{{user.address.street}}" />
        <label for="street">Street</label>
        <div class="bar"></div>
      </div>

      <div class="input-container">
        <input name="houseNumber" required="required" value="{{user.address.houseNumber}}" />
        <label for="houseNumber">Number</label>
        <div class="bar"></div>
      </div>

      <div class="input-container">
        <input name="zip" required="required" value="{{user.address.zip}}" />
        <label for="zip">PLZ</label>
        <div class="bar"></div>
      </div>

      <div class="input-container">
        <input name="city" required="required" value="{{user.address.city}}" />
        <label for="city">City</label>
        <div class="bar"></div>
      </div>

    {{/if}}

      <div class="input-container">
        <input  name="description" value="{{user.description}}"/>
        <label for="description">About</label>
        <div class="bar"></div>
      </div>

      <div class="errormsg">
        {{#if errorMessage}}
        {{ errorMessage }}
        {{/if}}
      </div>

      <h4>Your dogs</h4>

      {{#each user.dog}}
      <div class="uploadedpic-dog" style="background-image: url({{imgPath}});">
        {{/each}}


      </div>
      <button class="bt-signup" type="submit"><span>Save</span></button>
  </form>

</div>